---
layout: default
class: api-reference
title: "Webhooks - API Reference"
description: "Manage webhooks, which enable you to receive push updates of the raw events generated by SparkPost."
---
<div id="apipage" class="container-fluid"><div class="row"><div id="menublock"><input type="text" id="searchFld"><nav id="apimenu"><div class="resource-group"><div class="heading"><a href="index" class="text-uppercase">Overview</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="index#header-api-endpoints">API Endpoints</a></li><li><a href="index#header-api-conventions">API Conventions</a></li><li><a href="index#header-authentication">Authentication</a></li><li><a href="index#header-using-postman">Using Postman</a></li><li><a href="index#header-using-curl">Using cURL</a></li><li><a href="index#header-smtp-relay-endpoints">SMTP Relay Endpoints</a></li><li><a href="index#header-sparkpost-smtp-endpoint">SparkPost SMTP Endpoint</a></li><li><a href="index#header-sparkpost-elite-smtp-endpoint">SparkPost Elite SMTP Endpoint</a></li><li><a href="index#header-rate-limiting">Rate Limiting</a></li><li><a href="index#header-errors">Errors</a></li><li><a href="index#header-example-error">Example Error</a></li><li><a href="index#header-error-table">Error Table</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="substitutions-reference" class="text-uppercase">Substitutions Reference</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="substitutions-reference#header-key-features">Key Features</a></li><li><a href="substitutions-reference#header-substitution-data">Substitution Data</a></li><li><a href="substitutions-reference#header-template-start-and-end-markers">Template Start and End Markers</a></li><li><a href="substitutions-reference#header-determination-of-expressions-and-statements">Determination of Expressions and Statements</a></li><li><a href="substitutions-reference#header-missing-substitution-values">Missing Substitution Values</a></li><li><a href="substitutions-reference#header-statements-on-their-own-line">Statements on Their Own Line</a></li><li><a href="substitutions-reference#header-escaping-start-and-end-tags">Escaping Start and End Tags</a></li><li><a href="substitutions-reference#header-escaping-html-values">Escaping HTML Values</a></li><li><a href="substitutions-reference#header-escaping-links">Escaping Links</a></li><li><a href="substitutions-reference#header-preventing-html-escaping">Preventing HTML Escaping</a></li><li><a href="substitutions-reference#header-personalized-links">Personalized Links</a></li><li><a href="substitutions-reference#header-link-names">Link Names</a></li><li><a href="substitutions-reference#header-unsubscribe-links">Unsubscribe Links</a></li><li><a href="substitutions-reference#header-per-link-disabling-of-click-tracking">Per-link Disabling of Click Tracking</a></li><li><a href="substitutions-reference#header-custom-link-sub-paths">Custom Link Sub-Paths</a></li><li><a href="substitutions-reference#header-link-attributes-in-text-parts">Link Attributes in Text Parts</a></li><li><a href="substitutions-reference#header-substitutions-syntax-examples">Substitutions Syntax Examples</a></li><li><a href="substitutions-reference#header-basic-substitution">Basic Substitution</a></li><li><a href="substitutions-reference#header-referencing-a-nested-object">Referencing a Nested Object</a></li><li><a href="substitutions-reference#header-if-then-else-syntax">if then else Syntax</a></li><li><a href="substitutions-reference#header-if-not-syntax">if not Syntax</a></li><li><a href="substitutions-reference#header-elseif-syntax">elseif Syntax</a></li><li><a href="substitutions-reference#header-expressions-in-conditionals-(,-,-,-,-,-)">Expressions in Conditionals (, , , , , )</a></li><li><a href="substitutions-reference#header-relational-and-logical-operators">Relational and Logical Operators</a></li><li><a href="substitutions-reference#header-array-iteration">Array Iteration</a></li><li><a href="substitutions-reference#header-links-and-substitution-expressions-within-substitution-values">Links and Substitution Expressions Within Substitution Values</a></li><li><a href="substitutions-reference#header-default-values">Default Values</a></li><li><a href="substitutions-reference#header-macros">Macros</a></li><li><a href="substitutions-reference#header-reserved-recipient-substitution-variables">Reserved Recipient Substitution Variables</a></li><li><a href="substitutions-reference#header-substitutions-in-email_rfc822-headers">Substitutions in email_rfc822 Headers</a></li><li><a href="substitutions-reference#header-encoding-rules">Encoding Rules</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="account" class="text-uppercase">Account</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="account#header-using-postman">Using Postman</a></li><li><a href="account#account-account-get">Get your account information</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="bounce-domains" class="text-uppercase">Bounce Domains</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="bounce-domains#header-using-postman">Using Postman</a></li><li><a href="bounce-domains#header-bounce-domains-attributes">Bounce Domains Attributes</a></li><li><a href="bounce-domains#header-status-attributes">Status Attributes</a></li><li><a href="bounce-domains#bounce-domains-create-and-list">Create and List</a><ul class="list-unstyled"><li><a href="bounce-domains#bounce-domains-create-and-list-post">Create a Bounce Domain</a></li><li><a href="bounce-domains#bounce-domains-create-and-list-get">List Bounce Domains</a></li></ul></li><li><a href="bounce-domains#bounce-domains-retrieve-and-delete">Retrieve and Delete</a><ul class="list-unstyled"><li><a href="bounce-domains#bounce-domains-retrieve-and-delete-get">Retrieve a Bounce Domain</a></li><li><a href="bounce-domains#bounce-domains-retrieve-and-delete-delete">Delete a Bounce Domain</a></li></ul></li><li><a href="bounce-domains#bounce-domains-verify-post">Verify a Bounce Domain</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="inbound-domains" class="text-uppercase">Inbound Domains</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="inbound-domains#header-inbound-domains-attributes">Inbound Domains Attributes</a></li><li><a href="inbound-domains#header-using-postman">Using Postman</a></li><li><a href="inbound-domains#inbound-domains-create-and-list">Create and List</a><ul class="list-unstyled"><li><a href="inbound-domains#inbound-domains-create-and-list-post">Create an Inbound Domain</a></li><li><a href="inbound-domains#inbound-domains-create-and-list-get">List all Inbound Domains</a></li></ul></li><li><a href="inbound-domains#inbound-domains-retrieve-and-delete">Retrieve and Delete</a><ul class="list-unstyled"><li><a href="inbound-domains#inbound-domains-retrieve-and-delete-get">Retrieve an Inbound Domain</a></li><li><a href="inbound-domains#inbound-domains-retrieve-and-delete-delete">Delete an Inbound Domain</a></li></ul></li></ul></div></div><div class="resource-group"><div class="heading"><a href="ip-pools" class="text-uppercase">IP Pools</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="ip-pools#header-using-postman">Using Postman</a></li><li><a href="ip-pools#header-ip-pool-properties">IP Pool Properties</a></li><li><a href="ip-pools#ip-pools-ip-pools">IP Pools</a><ul class="list-unstyled"><li><a href="ip-pools#ip-pools-ip-pools-get">List IP Pools</a></li><li><a href="ip-pools#ip-pools-ip-pools-post">Create an IP Pool</a></li></ul></li><li><a href="ip-pools#ip-pools-ip-pools-resource">IP Pools Resource</a><ul class="list-unstyled"><li><a href="ip-pools#ip-pools-ip-pools-resource-get">Get IP Pool</a></li><li><a href="ip-pools#ip-pools-ip-pools-resource-put">Update an IP Pool</a></li><li><a href="ip-pools#ip-pools-ip-pools-resource-delete">Delete an IP Pool</a></li></ul></li></ul></div></div><div class="resource-group"><div class="heading"><a href="metrics" class="text-uppercase">Metrics</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="metrics#header-data-retention">Data retention</a></li><li><a href="metrics#header-using-postman">Using Postman</a></li><li><a href="metrics#header-metrics-api-deliverability-glossary">Metrics API Deliverability Glossary</a></li><li><a href="metrics#metrics-discoverability-links-get">Metrics Discoverability Links</a></li><li><a href="metrics#metrics-deliverability-metrics-get">Deliverability Metrics Summary</a></li><li><a href="metrics#metrics-deliverability-metrics-by-domain-get">Deliverability Metrics by Domain</a></li><li><a href="metrics#metrics-deliverability-metrics-by-binding-get">Deliverability Metrics by Binding</a></li><li><a href="metrics#metrics-deliverability-metrics-by-binding-group-get">Deliverability Metrics by Binding Group</a></li><li><a href="metrics#metrics-deliverability-metrics-by-sending-ip-get">Deliverability Metrics by Sending IP</a></li><li><a href="metrics#metrics-deliverability-metrics-by-ip-pool-get">Deliverability Metrics by IP Pool</a></li><li><a href="metrics#metrics-deliverability-metrics-by-sending-domain-get">Deliverability Metrics by Sending Domain</a></li><li><a href="metrics#metrics-deliverability-metrics-by-subaccount-get">Deliverability Metrics by Subaccount</a></li><li><a href="metrics#metrics-deliverability-metrics-by-campaign-get">Deliverability Metrics by Campaign</a></li><li><a href="metrics#metrics-deliverability-metrics-by-template-get">Deliverability Metrics by Template</a></li><li><a href="metrics#metrics-deliverability-metrics-by-watched-domain-get">Deliverability Metrics by Watched Domain</a></li><li><a href="metrics#metrics-time-series-get">Time-Series Metrics</a></li><li><a href="metrics#metrics-bounce-reasons-get">Bounce Reason Metrics</a></li><li><a href="metrics#metrics-bounce-reasons-by-domain-get">Bounce Reason Metrics By Domain</a></li><li><a href="metrics#metrics-bounce-classifications-get">Bounce Classification Metrics</a></li><li><a href="metrics#metrics-rejection-reasons-get">Rejection Reason Metrics</a></li><li><a href="metrics#metrics-rejection-reasons-by-domain-get">Rejection Reason Metrics By Domain</a></li><li><a href="metrics#metrics-delay-reasons-get">Delay Reason Metrics</a></li><li><a href="metrics#metrics-delay-reasons-by-domain-get">Delay Reason Metrics By Domain</a></li><li><a href="metrics#metrics-engagement-details-get">Engagement Details</a></li><li><a href="metrics#metrics-deliveries-by-attempt-get">Deliveries By Attempt</a></li><li><a href="metrics#metrics-binding-groups-list-get">Bindings Groups List</a></li><li><a href="metrics#metrics-binding-groups-list-get-1">Bindings List</a></li><li><a href="metrics#metrics-ip-pools-list-get">IP Pools List</a></li><li><a href="metrics#metrics-sending-ips-list-get">Sending IPs List</a></li><li><a href="metrics#metrics-campaigns-list-get">Campaigns List</a></li><li><a href="metrics#metrics-domains-list-get">Domains List</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="message-events" class="text-uppercase">Message Events</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="message-events#header-data-retention">Data retention</a></li><li><a href="message-events#header-using-postman">Using Postman</a></li><li><a href="message-events#header-copyrights">Copyrights</a></li><li><a href="message-events#message-events-events-documentation-get">Documentation</a></li><li><a href="message-events#message-events-events-samples-get">Samples</a></li><li><a href="message-events#message-events-message-events-get">Search for Message Events</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="recipient-lists" class="text-uppercase">Recipient Lists</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="recipient-lists#header-using-postman">Using Postman</a></li><li><a href="recipient-lists#header-recipient-list-attributes">Recipient List Attributes</a></li><li><a href="recipient-lists#header-recipient-attributes">Recipient Attributes</a></li><li><a href="recipient-lists#header-address-attributes">Address Attributes</a></li><li><a href="recipient-lists#recipient-lists-create-post">Create a Recipient List</a></li><li><a href="recipient-lists#recipient-lists-retrieve-get">Retrieve a Recipient List</a></li><li><a href="recipient-lists#recipient-lists-list-get">List all Recipient Lists</a></li><li><a href="recipient-lists#recipient-lists-update-put">Update a Recipient List</a></li><li><a href="recipient-lists#recipient-lists-delete-delete">Delete a Recipient List</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="relay-webhooks" class="text-uppercase">Relay Webhooks</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="relay-webhooks#header-using-postman">Using Postman</a></li><li><a href="relay-webhooks#header-relay-webhooks-object-properties">Relay Webhooks Object Properties</a></li><li><a href="relay-webhooks#header-match-object-properties">Match Object Properties</a></li><li><a href="relay-webhooks#header-field-definitions">Field Definitions</a></li><li><a href="relay-webhooks#header-content-attributes">Content Attributes</a></li><li><a href="relay-webhooks#relay-webhooks-create-and-list">Create and List</a><ul class="list-unstyled"><li><a href="relay-webhooks#relay-webhooks-create-and-list-post">Create a Relay Webhook</a></li><li><a href="relay-webhooks#relay-webhooks-create-and-list-get">List all Relay Webhooks</a></li></ul></li><li><a href="relay-webhooks#relay-webhooks-retrieve,-update,-and-delete">Retrieve, Update, and Delete</a><ul class="list-unstyled"><li><a href="relay-webhooks#relay-webhooks-retrieve,-update,-and-delete-get">Retrieve a Relay Webhook</a></li><li><a href="relay-webhooks#relay-webhooks-retrieve,-update,-and-delete-put">Update a Relay Webhook</a></li><li><a href="relay-webhooks#relay-webhooks-retrieve,-update,-and-delete-delete">Delete a Relay Webhook</a></li></ul></li></ul></div></div><div class="resource-group"><div class="heading"><a href="sending-domains" class="text-uppercase">Sending Domains</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="sending-domains#header-using-postman">Using Postman</a></li><li><a href="sending-domains#header-sending-domain-attributes">Sending Domain Attributes</a></li><li><a href="sending-domains#header-dkim-attributes">DKIM Attributes</a></li><li><a href="sending-domains#header-status-attributes">Status Attributes</a></li><li><a href="sending-domains#header-verify-attributes">Verify Attributes</a></li><li><a href="sending-domains#header-dns-attributes">DNS Attributes</a></li><li><a href="sending-domains#sending-domains-create">Create</a><ul class="list-unstyled"><li><a href="sending-domains#sending-domains-create-post">Create a Sending Domain</a></li><li><a href="sending-domains#sending-domains-create-get">List all Sending Domains</a></li></ul></li><li><a href="sending-domains#sending-domains-retrieve,-update,-and-delete">Retrieve, Update, and Delete</a><ul class="list-unstyled"><li><a href="sending-domains#sending-domains-retrieve,-update,-and-delete-get">Retrieve a Sending Domain</a></li><li><a href="sending-domains#sending-domains-retrieve,-update,-and-delete-put">Update a Sending Domain</a></li><li><a href="sending-domains#sending-domains-retrieve,-update,-and-delete-delete">Delete a Sending Domain</a></li></ul></li><li><a href="sending-domains#sending-domains-verify-post">Verify a Sending Domain</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="sending-ips" class="text-uppercase">Sending IPs</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="sending-ips#header-using-postman">Using Postman</a></li><li><a href="sending-ips#header-sending-ip-properties">Sending IP Properties</a></li><li><a href="sending-ips#sending-ips-sending-ips-get">Get all sending IPs</a></li><li><a href="sending-ips#sending-ips-sending-ip-resource">Sending IP Resource</a><ul class="list-unstyled"><li><a href="sending-ips#sending-ips-sending-ip-resource-get">Get a Sending IP</a></li><li><a href="sending-ips#sending-ips-sending-ip-resource-put">Update a Sending IP</a></li></ul></li></ul></div></div><div class="resource-group"><div class="heading"><a href="subaccounts" class="text-uppercase">Subaccounts</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="subaccounts#header-introduction">Introduction</a></li><li><a href="subaccounts#header-terminology">Terminology</a></li><li><a href="subaccounts#header-managing-subaccount-data-as-a-service-provider">Managing subaccount data as a Service Provider</a></li><li><a href="subaccounts#header-managing-master-account-data-as-a-service-provider">Managing master account data as a Service Provider</a></li><li><a href="subaccounts#subaccounts-subaccounts-collection">Subaccounts Collection</a><ul class="list-unstyled"><li><a href="subaccounts#subaccounts-subaccounts-collection-get">List subaccounts</a></li><li><a href="subaccounts#subaccounts-subaccounts-collection-post">Create new subaccount</a></li></ul></li><li><a href="subaccounts#subaccounts-subaccounts-entity">Subaccounts Entity</a><ul class="list-unstyled"><li><a href="subaccounts#subaccounts-subaccounts-entity-get">List specific subaccount</a></li><li><a href="subaccounts#subaccounts-subaccounts-entity-put">Edit a subaccount</a></li></ul></li></ul></div></div><div class="resource-group"><div class="heading"><a href="suppression-list" class="text-uppercase">Suppression List</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="suppression-list#header-using-postman">Using Postman</a></li><li><a href="suppression-list#header-list-entry-attributes">List Entry Attributes</a></li><li><a href="suppression-list#suppression-list-bulk-insert-update-put">Insert or Update List Entries</a></li><li><a href="suppression-list#suppression-list-search-get">Search for List Entries</a></li><li><a href="suppression-list#suppression-list-retrieve,-delete">Retrieve, Delete</a><ul class="list-unstyled"><li><a href="suppression-list#suppression-list-retrieve,-delete-get">Retrieve a Recipient Suppression Status</a></li><li><a href="suppression-list#suppression-list-retrieve,-delete-delete">Delete a List Entry</a></li><li><a href="suppression-list#suppression-list-retrieve,-delete-put">Insert or Update a List Entry</a></li></ul></li></ul></div></div><div class="resource-group"><div class="heading"><a href="templates" class="text-uppercase">Templates</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="templates#header-using-postman">Using Postman</a></li><li><a href="templates#header-template-attributes">Template Attributes</a></li><li><a href="templates#header-content-attributes">Content Attributes</a></li><li><a href="templates#header-header-notes">Header Notes</a></li><li><a href="templates#header-email_rfc822-notes">email_rfc822 Notes</a></li><li><a href="templates#header-options-attributes">Options Attributes</a></li><li><a href="templates#header-error-attributes">Error Attributes</a></li><li><a href="templates#templates-create-and-list">Create and List</a><ul class="list-unstyled"><li><a href="templates#templates-create-and-list-post">Create a Template</a></li><li><a href="templates#templates-create-and-list-get">List all Templates</a></li></ul></li><li><a href="templates#templates-retrieve-get">Retrieve a Template</a></li><li><a href="templates#templates-update-put">Update a Template</a></li><li><a href="templates#templates-preview-post">Preview a Template</a></li><li><a href="templates#templates-delete-delete">Delete a Template</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="tracking-domains" class="text-uppercase">Tracking Domains</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="tracking-domains#header-using-postman">Using Postman</a></li><li><a href="tracking-domains#header-tracking-domains-attributes">Tracking Domains Attributes</a></li><li><a href="tracking-domains#header-port-secure-attributes">Port/Secure Attributes</a></li><li><a href="tracking-domains#header-status-attributes">Status Attributes</a></li><li><a href="tracking-domains#tracking-domains-create-and-list">Create and List</a><ul class="list-unstyled"><li><a href="tracking-domains#tracking-domains-create-and-list-post">Create a Tracking Domain</a></li><li><a href="tracking-domains#tracking-domains-create-and-list-get">List all Tracking Domains</a></li></ul></li><li><a href="tracking-domains#tracking-domains-retrieve,-update,-and-delete">Retrieve, Update, and Delete</a><ul class="list-unstyled"><li><a href="tracking-domains#tracking-domains-retrieve,-update,-and-delete-get">Retrieve a Tracking Domain</a></li><li><a href="tracking-domains#tracking-domains-retrieve,-update,-and-delete-put">Update a Tracking Domain</a></li><li><a href="tracking-domains#tracking-domains-retrieve,-update,-and-delete-delete">Delete a Tracking Domain</a></li></ul></li><li><a href="tracking-domains#tracking-domains-verify-post">Verify a Tracking Domain</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="transmissions" class="text-uppercase">Transmissions</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="transmissions#header-using-postman">Using Postman</a></li><li><a href="transmissions#header-transmission-attributes">Transmission Attributes</a></li><li><a href="transmissions#header-options-attributes">Options Attributes</a></li><li><a href="transmissions#header-inline-content-attributes">Inline Content Attributes</a></li><li><a href="transmissions#header-header-notes">Header Notes</a></li><li><a href="transmissions#header-email_rfc822-notes">email_rfc822 Notes</a></li><li><a href="transmissions#header-attachment-attributes">Attachment Attributes</a></li><li><a href="transmissions#header-inline-image-attributes">Inline Image Attributes</a></li><li><a href="transmissions#header-using-a-stored-template">Using a Stored Template</a></li><li><a href="transmissions#header-using-a-stored-recipient-list">Using a Stored Recipient List</a></li><li><a href="transmissions#header-scheduled-transmissions">Scheduled Transmissions</a></li><li><a href="transmissions#transmissions-create-post">Create a Transmission</a></li><li><a href="transmissions#transmissions-retrieve-and-delete">Retrieve and Delete</a><ul class="list-unstyled"><li><a href="transmissions#transmissions-retrieve-and-delete-get">Retrieve a Transmission</a></li><li><a href="transmissions#transmissions-retrieve-and-delete-delete">Delete a Transmission</a></li></ul></li><li><a href="transmissions#transmissions-list-get">List all Transmissions</a></li></ul></div></div><div class="resource-group"><div class="heading current"><a href="webhooks" class="text-uppercase">Webhooks</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="webhooks#header-using-postman">Using Postman</a></li><li><a href="webhooks#header-webhooks-object-properties">Webhooks Object Properties</a></li><li><a href="webhooks#webhooks-events-documentation-get">Documentation</a></li><li><a href="webhooks#webhooks-events-samples-get">Samples</a></li><li><a href="webhooks#webhooks-create-post">Create a Webhook</a></li><li><a href="webhooks#webhooks-retrieve-get">Retrieve Webhook Details</a></li><li><a href="webhooks#webhooks-list-get">List all Webhooks</a></li><li><a href="webhooks#webhooks-update-and-delete">Update and Delete</a><ul class="list-unstyled"><li><a href="webhooks#webhooks-update-and-delete-put">Update a Webhook</a></li><li><a href="webhooks#webhooks-update-and-delete-delete">Delete a Webhook</a></li></ul></li><li><a href="webhooks#webhooks-validate-post">Validate a Webhook</a></li><li><a href="webhooks#webhooks-batch-status-get">Retrieve Status Information</a></li></ul></div></div><div class="resource-group"><div class="heading"><a href="smtp-api" class="text-uppercase">SMTP API</a></div><div class="collapse-content"><ul class="list-unstyled"><li><a href="smtp-api#header-options-attributes">Options Attributes</a></li><li><a href="smtp-api#header-sending-messages-with-cc,-bcc,-and-archive-recipients">Sending Messages with cc, bcc, and archive Recipients</a></li><li><a href="smtp-api#header-comments-on-header-length">Comments on Header Length</a></li></ul></div></div></nav></div><div id="contentblock"><header><h1 id="top"></h1></header><section class="resource-group searchable"><h1 id="webhooks" class="group-heading">Webhooks <a href="#webhooks" class="permalink"></a></h1><div class="markdown"><p>The Webhooks API provides the means to create, review, update, and delete webhooks, which enables you to
receive push updates of the raw events generated by SparkPost and SparkPost Elite.</p>
<p>The following are key operational details:</p>
<ul>
<li>
<p>Any webhook batch that does not receive an HTTP 200 response will be retried for a total of 4 hours before the data is discarded.</p>
</li>
<li>
<p>Each webhook batch contains the header X-MessageSystems-Batch-ID, which is useful for auditing and prevention of processing duplicate batches.</p>
</li>
<li>
<p>Webhooks posting to your endpoint will timeout after 10 seconds. For best results, write webhook batches to disk and then process asynchronously to minimize data loss if you have a problem with your database.</p>
</li>
<li>
<p>When using ‘oauth2’, auth_request_details must be set by the user (example: <code>{ &quot;url&quot;: &quot;https://oauth.myurl.com/tokens&quot;, &quot;body&quot;: { &quot;client_id&quot;: &quot;&lt;oauth client id&gt;&quot;, &quot;client_secret&quot;: &quot;&lt;oauth client secret&gt;&quot; }}</code>). Additionally, auth_credentials is set by the system and cannot be configured by the user.</p>
</li>
<li>
<p>When using ‘basic’ auth, auth_credentials must be set by the user and should be an object containing “username” (required) and “password” (optional). (example: <code>{ &quot;username&quot;: &quot;basicauthuser&quot;, &quot;password&quot;: &quot;mypassword&quot; }</code>)</p>
</li>
</ul>
<h2 id="header-using-postman">Using Postman <a class="permalink" href="#header-using-postman" aria-hidden="true">¶</a></h2>
<p>If you use <a href="https://www.getpostman.com/">Postman</a> you can click the following button to import the SparkPost API as a collection:</p>
<p><a href="https://www.getpostman.com/run-collection/81ee1dd2790d7952b76a"><img src="https://s3.amazonaws.com/postman-static/run-button.png" alt="Run in Postman"></a></p>
<h2 id="header-webhooks-object-properties">Webhooks Object Properties <a class="permalink" href="#header-webhooks-object-properties" aria-hidden="true">¶</a></h2>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>User-friendly name for webhook</td>
<td>yes</td>
<td>example: <code>Example webhook</code></td>
</tr>
<tr>
<td>target</td>
<td>string</td>
<td>URL of the target to which to POST event batches</td>
<td>yes</td>
<td>When a webhook is created or updated with a change to this property, a test POST request is sent to the given URL. The target URL must accept the connection and respond with HTTP 200; otherwise, your request to the Webhook API will fail with HTTP 400, and the requested change will not be applied.<br>example: <code>http://client.example.com/example-webhook</code></td>
</tr>
<tr>
<td>events</td>
<td>array</td>
<td>Array of event types this webhook will receive</td>
<td>yes</td>
<td>Use the Webhooks Events endpoint to list the available event types.<br>example: <code>[&quot;delivery&quot;, &quot;injection&quot;, &quot;open&quot;, &quot;click&quot;]</code></td>
</tr>
<tr>
<td>auth_type</td>
<td>string</td>
<td>Type of authentication to be used during POST requests to target</td>
<td>no</td>
<td>examples: <code>none</code>, <code>basic</code>, <code>oauth2</code></td>
</tr>
<tr>
<td>auth_request_details</td>
<td>JSON</td>
<td>Object containing details needed to request authorization credentials, as necessary</td>
<td>no</td>
<td>example: <code>{ &quot;url&quot;: &quot;https://oauth.myurl.com/tokens&quot;, &quot;body&quot;: { &quot;client_id&quot;: &quot;&lt;oauth client id&gt;&quot;, &quot;client_secret&quot;: &quot;&lt;oauth client secret&gt;&quot; }}</code></td>
</tr>
<tr>
<td>auth_credentials</td>
<td>JSON</td>
<td>Object containing credentials needed to make authorized POST requests to target</td>
<td>no</td>
<td>examples: <code>{ &quot;access_token&quot;: &quot;&lt;oauth token&gt;&quot;, expires_in: 3600 }</code>, <code>{ &quot;username&quot;: &quot;basicauthuser&quot;, &quot;password&quot;: &quot;mypassword&quot; }</code></td>
</tr>
<tr>
<td>auth_token</td>
<td>string</td>
<td>Authentication token to present in the X-MessageSystems-Webhook-Token header of POST requests to target</td>
<td>no</td>
<td>Use this token in your target application to confirm that data is coming from the Webhooks API. <br>example: <code>5ebe2294ecd0e0f08eab7690d2a6ee69</code><br><br><em>Note: This field is deprecated, you should use the auth_type field instead.</em></td>
</tr>
</tbody>
</table>
<p><strong><strong>The SparkPost webhooks API uses MaxMind software <a href="https://www.maxmind.com/download/geoip/database/LICENSE.txt">MaxMind License</a></strong></strong></p>
</div><div class="resource searchable"><h3 id="webhooks-events-documentation" class="resource-heading">Events Documentation <a href="#webhooks-events-documentation" class="permalink">&nbsp;</a></h3><div class="searchable"><div class="action get"><h4 id="webhooks-events-documentation-get" class="action-heading"><div class="name">Documentation</div></h4><div class="method">GET<code class="uri">/api/v1/webhooks/events/documentation</code></div><div class="markdown"><p>List descriptions of the events, event types, and event fields that could be included in a Webhooks post to your target URL.</p>
</div><h3>Examples</h3><div class="panel request panel-default"><div class="panel-heading"><h4 class="panel-title">Request</h4></div><div class="panel-body"><p class="uri"> <code>GET&nbsp;/api/v1/webhooks/events/documentation</code></p><!-- Weed out the noisy obvious headers--></div></div><div class="panel response panel-default"><div class="panel-heading"><h4 class="panel-title">Response (HTTP status code: 200)</h4></div><div class="panel-body"><!-- Weed out the noisy obvious headers--><pre>{
  "<span class="hljs-attribute">results</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">message_event</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Message events describe the life cycle of a message including injection, delivery, and disposition."</span></span>,
      "<span class="hljs-attribute">display_name</span>": <span class="hljs-value"><span class="hljs-string">"Message Events"</span></span>,
      "<span class="hljs-attribute">events</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">bounce</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Remote MTA has permanently rejected a message."</span></span>,
          "<span class="hljs-attribute">display_name</span>": <span class="hljs-value"><span class="hljs-string">"Bounce"</span></span>,
          "<span class="hljs-attribute">event</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">campaign_id</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Campaign of which this message was a part"</span></span>,
              "<span class="hljs-attribute">sampleValue</span>": <span class="hljs-value"><span class="hljs-string">"Example Campaign Name"</span>
            </span>}</span>,
            "<span class="hljs-attribute">timestamp</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Event date and time, in Unix timestamp format (integer seconds since 00:00:00 GMT 1970-01-01)"</span></span>,
              "<span class="hljs-attribute">sampleValue</span>": <span class="hljs-value"><span class="hljs-number">1427736822</span>
            </span>}
          </span>}
        </span>}
      </span>}
    </span>}
  </span>}
</span>}</pre></div></div><hr></div></div></div><div class="resource searchable"><h3 id="webhooks-events-samples" class="resource-heading">Events Samples <a href="#webhooks-events-samples" class="permalink">&nbsp;</a></h3><div class="searchable"><div class="action get"><h4 id="webhooks-events-samples-get" class="action-heading"><div class="name">Samples</div></h4><div class="method">GET<code class="uri">/api/v1/webhooks/events/samples{?events}</code></div><div class="title"><strong>URI Parameters</strong></div><div class="table-responsive"><table><tr><td class="markdown">events</td><td class="markdown"><p>Event types for which to get a sample payload, use the Webhooks Events endpoint to list the available event types, defaults to all event types.</p>
Example:<code>events=bounce</code></td></tr></table></div><div class="markdown"><p>List an example of the event data that will be posted by a Webhook for the specified events.</p>
<p><strong>Note:</strong> the data that will arrive at your target URL will <strong>not</strong> contain the top level <code>results</code> key shown in the example response.</p>
</div><h3>Examples</h3><div class="panel request panel-default"><div class="panel-heading"><h4 class="panel-title">Request</h4></div><div class="panel-body"><p class="uri"> <code>GET&nbsp;/api/v1/webhooks/events/samples?<span class="hljs-attribute">events=</span><span class="hljs-literal">bounce</span></code></p><!-- Weed out the noisy obvious headers--></div></div><div class="panel response panel-default"><div class="panel-heading"><h4 class="panel-title">Response (HTTP status code: 200)</h4></div><div class="panel-body"><!-- Weed out the noisy obvious headers--><pre>{
  "<span class="hljs-attribute">results</span>": <span class="hljs-value">[
    {
      "<span class="hljs-attribute">msys</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">message_event</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"bounce"</span></span>,
          "<span class="hljs-attribute">bounce_class</span>": <span class="hljs-value"><span class="hljs-string">"1"</span></span>,
          "<span class="hljs-attribute">campaign_id</span>": <span class="hljs-value"><span class="hljs-string">"Example Campaign Name"</span></span>,
          "<span class="hljs-attribute">customer_id</span>": <span class="hljs-value"><span class="hljs-string">"1"</span></span>,
          "<span class="hljs-attribute">error_code</span>": <span class="hljs-value"><span class="hljs-string">"554"</span></span>,
          "<span class="hljs-attribute">ip_address</span>": <span class="hljs-value"><span class="hljs-string">"127.0.0.1"</span></span>,
          "<span class="hljs-attribute">message_id</span>": <span class="hljs-value"><span class="hljs-string">"0e0d94b7-9085-4e3c-ab30-e3f2cd9c273e"</span></span>,
          "<span class="hljs-attribute">msg_from</span>": <span class="hljs-value"><span class="hljs-string">"sender@example.com"</span></span>,
          "<span class="hljs-attribute">msg_size</span>": <span class="hljs-value"><span class="hljs-string">"1337"</span></span>,
          "<span class="hljs-attribute">num_retries</span>": <span class="hljs-value"><span class="hljs-string">"2"</span></span>,
          "<span class="hljs-attribute">rcpt_meta</span>": <span class="hljs-value">{}</span>,
          "<span class="hljs-attribute">rcpt_tags</span>": <span class="hljs-value">[
            <span class="hljs-string">"male"</span>,
            <span class="hljs-string">"US"</span>
          ]</span>,
          "<span class="hljs-attribute">rcpt_to</span>": <span class="hljs-value"><span class="hljs-string">"recipient@example.com"</span></span>,
          "<span class="hljs-attribute">reason</span>": <span class="hljs-value"><span class="hljs-string">"000 Example Remote MTA Bounce Message"</span></span>,
          "<span class="hljs-attribute">routing_domain</span>": <span class="hljs-value"><span class="hljs-string">"example.com"</span></span>,
          "<span class="hljs-attribute">template_id</span>": <span class="hljs-value"><span class="hljs-string">"templ-1234"</span></span>,
          "<span class="hljs-attribute">template_version</span>": <span class="hljs-value"><span class="hljs-string">"1"</span></span>,
          "<span class="hljs-attribute">timestamp</span>": <span class="hljs-value"><span class="hljs-number">1427736822</span></span>,
          "<span class="hljs-attribute">transmission_id</span>": <span class="hljs-value"><span class="hljs-string">"65832150921904138"</span>
        </span>}
      </span>}
    </span>}
  ]
</span>}</pre></div></div><hr></div></div></div><div class="resource searchable"><h3 id="webhooks-create" class="resource-heading">Create <a href="#webhooks-create" class="permalink">&nbsp;</a></h3><div class="searchable"><div class="action post"><h4 id="webhooks-create-post" class="action-heading"><div class="name">Create a Webhook</div></h4><div class="method">POST<code class="uri">/api/v1/webhooks</code></div><div class="markdown"><p>Create a webhook by providing a <strong>webhooks object</strong> as the POST request body.  On creation, events will
begin to be pushed to the target URL specified in the POST request body.</p>
<p>As described in “Webhooks Object Properties”, webhook creation entails a test POST request to the URL given as the <em>target</em> value. If this request does not receive an HTTP 200 response, your request to the Webhook API will fail with HTTP 400, and the webhook will not be created. If created successfully, the webhook will begin to receive event data after 1 minute.</p>
</div><h3>Examples</h3><div class="panel request panel-default"><div class="panel-heading"><h4 class="panel-title">Request</h4></div><div class="panel-body"><p class="uri"> <code>POST&nbsp;/api/v1/webhooks</code></p><!-- Weed out the noisy obvious headers--><pre>{
  "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Example webhook"</span></span>,
  "<span class="hljs-attribute">target</span>": <span class="hljs-value"><span class="hljs-string">"http://client.example.com/example-webhook"</span></span>,
  "<span class="hljs-attribute">auth_type</span>": <span class="hljs-value"><span class="hljs-string">"oauth2"</span></span>,
  "<span class="hljs-attribute">auth_request_details</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">url</span>": <span class="hljs-value"><span class="hljs-string">"http://client.example.com/tokens"</span></span>,
    "<span class="hljs-attribute">body</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">client_id</span>": <span class="hljs-value"><span class="hljs-string">"CLIENT123"</span></span>,
      "<span class="hljs-attribute">client_secret</span>": <span class="hljs-value"><span class="hljs-string">"9sdfj791d2bsbf"</span></span>,
      "<span class="hljs-attribute">grant_type</span>": <span class="hljs-value"><span class="hljs-string">"client_credentials"</span>
    </span>}
  </span>}</span>,
  "<span class="hljs-attribute">auth_token</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
  "<span class="hljs-attribute">events</span>": <span class="hljs-value">[
    <span class="hljs-string">"delivery"</span>,
    <span class="hljs-string">"injection"</span>,
    <span class="hljs-string">"open"</span>,
    <span class="hljs-string">"click"</span>
  ]
</span>}</pre></div></div><div class="panel response panel-default"><div class="panel-heading"><h4 class="panel-title">Response (HTTP status code: 200)</h4></div><div class="panel-body"><!-- Weed out the noisy obvious headers--><pre>{
  "<span class="hljs-attribute">results</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"12affc24-f183-11e3-9234-3c15c2c818c2"</span></span>,
    "<span class="hljs-attribute">links</span>": <span class="hljs-value">[
      {
        "<span class="hljs-attribute">href</span>": <span class="hljs-value"><span class="hljs-string">"http://www.messagesystems-api-url.com/api/v1/webhooks/12affc24-f183-11e3-9234-3c15c2c818c2"</span></span>,
        "<span class="hljs-attribute">rel</span>": <span class="hljs-value"><span class="hljs-string">"urn.msys.webhooks.webhook"</span></span>,
        "<span class="hljs-attribute">method</span>": <span class="hljs-value">[
          <span class="hljs-string">"GET"</span>,
          <span class="hljs-string">"PUT"</span>
        ]
      </span>}
    ]
  </span>}
</span>}</pre></div></div><div class="panel response panel-default"><div class="panel-heading"><h4 class="panel-title">Response (HTTP status code: 400)</h4></div><div class="panel-body"><!-- Weed out the noisy obvious headers--><pre>{
  "<span class="hljs-attribute">errors</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-number">400</span></span>,
    "<span class="hljs-attribute">message</span>": <span class="hljs-value"><span class="hljs-string">"POST to webhook tokens URL failed"</span>
  </span>}
</span>}</pre></div></div><hr></div></div></div><div class="resource searchable"><h3 id="webhooks-retrieve" class="resource-heading">Retrieve <a href="#webhooks-retrieve" class="permalink">&nbsp;</a></h3><div class="searchable"><div class="action get"><h4 id="webhooks-retrieve-get" class="action-heading"><div class="name">Retrieve Webhook Details</div></h4><div class="method">GET<code class="uri">/api/v1/webhooks/{id}{?timezone}</code></div><div class="title"><strong>URI Parameters</strong></div><div class="table-responsive"><table><tr><td class="markdown">id</td><td class="markdown"><strong class="param-annotation">(required) &nbsp;</strong><p>UUID identifying a webhook</p>
Example:<code>id=12affc24-f183-11e3-9234-3c15c2c818c2</code></td></tr><tr><td class="markdown">timezone</td><td class="markdown"><p>Standard timezone identification string, defaults to <code>UTC</code></p>
Example:<code>timezone=America/New_York</code></td></tr></table></div><div class="markdown"><p>Retrieve details about a webhook by specifying its id in the URI path.</p>
</div><h3>Examples</h3><div class="panel request panel-default"><div class="panel-heading"><h4 class="panel-title">Request</h4></div><div class="panel-body"><p class="uri"> <code>GET&nbsp;/api/v1/webhooks/<span class="hljs-attribute" title="id">12affc24-f183-11e3-9234-3c15c2c818c2</span>?<span class="hljs-attribute">timezone=</span><span class="hljs-literal">America/New_York</span></code></p><!-- Weed out the noisy obvious headers--></div></div><div class="panel response panel-default"><div class="panel-heading"><h4 class="panel-title">Response (HTTP status code: 200)</h4></div><div class="panel-body"><!-- Weed out the noisy obvious headers--><pre>{
  "<span class="hljs-attribute">results</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Example webhook"</span></span>,
    "<span class="hljs-attribute">target</span>": <span class="hljs-value"><span class="hljs-string">"http://client.example.com/example-webhook"</span></span>,
    "<span class="hljs-attribute">events</span>": <span class="hljs-value">[
      <span class="hljs-string">"delivery"</span>,
      <span class="hljs-string">"injection"</span>,
      <span class="hljs-string">"open"</span>,
      <span class="hljs-string">"click"</span>
    ]</span>,
    "<span class="hljs-attribute">auth_type</span>": <span class="hljs-value"><span class="hljs-string">"oauth2"</span></span>,
    "<span class="hljs-attribute">auth_request_details</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">url</span>": <span class="hljs-value"><span class="hljs-string">"https://oauth.myurl.com/tokens"</span></span>,
      "<span class="hljs-attribute">body</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">client_id</span>": <span class="hljs-value"><span class="hljs-string">"&lt;oauth client id&gt;"</span></span>,
        "<span class="hljs-attribute">client_secret</span>": <span class="hljs-value"><span class="hljs-string">"&lt;oauth client secret&gt;"</span>
      </span>}
    </span>}</span>,
    "<span class="hljs-attribute">auth_credentials</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">access_token</span>": <span class="hljs-value"><span class="hljs-string">"&lt;oauth token&gt;"</span></span>,
      "<span class="hljs-attribute">expires_in</span>": <span class="hljs-value"><span class="hljs-number">3600</span>
    </span>}</span>,
    "<span class="hljs-attribute">auth_token</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
    "<span class="hljs-attribute">links</span>": <span class="hljs-value">[
      {
        "<span class="hljs-attribute">href</span>": <span class="hljs-value"><span class="hljs-string">"http://www.messagesystems-api-url.com/api/v1/webhooks/12affc24-f183-11e3-9234-3c15c2c818c2/validate"</span></span>,
        "<span class="hljs-attribute">rel</span>": <span class="hljs-value"><span class="hljs-string">"urn.msys.webhooks.validate"</span></span>,
        "<span class="hljs-attribute">method</span>": <span class="hljs-value">[
          <span class="hljs-string">"POST"</span>
        ]
      </span>},
      {
        "<span class="hljs-attribute">href</span>": <span class="hljs-value"><span class="hljs-string">"http://www.messagesystems-api-url.com/api/v1/webhooks/12affc24-f183-11e3-9234-3c15c2c818c2/batch-status"</span></span>,
        "<span class="hljs-attribute">rel</span>": <span class="hljs-value"><span class="hljs-string">"urn.msys.webhooks.batches"</span></span>,
        "<span class="hljs-attribute">method</span>": <span class="hljs-value">[
          <span class="hljs-string">"GET"</span>
        ]
      </span>}
    ]
  </span>}
</span>}</pre></div></div><hr></div></div></div><div class="resource searchable"><h3 id="webhooks-list" class="resource-heading">List <a href="#webhooks-list" class="permalink">&nbsp;</a></h3><div class="searchable"><div class="action get"><h4 id="webhooks-list-get" class="action-heading"><div class="name">List all Webhooks</div></h4><div class="method">GET<code class="uri">/api/v1/webhooks{?timezone}</code></div><div class="title"><strong>URI Parameters</strong></div><div class="table-responsive"><table><tr><td class="markdown">timezone</td><td class="markdown"><p>Standard timezone identification string, defaults to <code>UTC</code></p>
Example:<code>timezone=America/New_York</code></td></tr></table></div><div class="markdown"><p>List currently extant webhooks.</p>
</div><h3>Examples</h3><div class="panel request panel-default"><div class="panel-heading"><h4 class="panel-title">Request</h4></div><div class="panel-body"><p class="uri"> <code>GET&nbsp;/api/v1/webhooks?<span class="hljs-attribute">timezone=</span><span class="hljs-literal">America/New_York</span></code></p><!-- Weed out the noisy obvious headers--></div></div><div class="panel response panel-default"><div class="panel-heading"><h4 class="panel-title">Response (HTTP status code: 200)</h4></div><div class="panel-body"><!-- Weed out the noisy obvious headers--><pre>{
  "<span class="hljs-attribute">results</span>": <span class="hljs-value">[
    {
      "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"a2b83490-10df-11e4-b670-c1ffa86371ff"</span></span>,
      "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Some webhook"</span></span>,
      "<span class="hljs-attribute">target</span>": <span class="hljs-value"><span class="hljs-string">"http://client.example.com/some-webhook"</span></span>,
      "<span class="hljs-attribute">events</span>": <span class="hljs-value">[
        <span class="hljs-string">"delivery"</span>,
        <span class="hljs-string">"injection"</span>,
        <span class="hljs-string">"open"</span>,
        <span class="hljs-string">"click"</span>
      ]</span>,
      "<span class="hljs-attribute">auth_type</span>": <span class="hljs-value"><span class="hljs-string">"basic"</span></span>,
      "<span class="hljs-attribute">auth_request_details</span>": <span class="hljs-value">{}</span>,
      "<span class="hljs-attribute">auth_credentials</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">username</span>": <span class="hljs-value"><span class="hljs-string">"basicuser"</span></span>,
        "<span class="hljs-attribute">password</span>": <span class="hljs-value"><span class="hljs-string">"somepass"</span>
      </span>}</span>,
      "<span class="hljs-attribute">auth_token</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
      "<span class="hljs-attribute">last_successful</span>": <span class="hljs-value"><span class="hljs-string">"2014-08-01 16:09:15"</span></span>,
      "<span class="hljs-attribute">last_failure</span>": <span class="hljs-value"><span class="hljs-string">"2014-06-01 15:15:45"</span></span>,
      "<span class="hljs-attribute">links</span>": <span class="hljs-value">[
        {
          "<span class="hljs-attribute">href</span>": <span class="hljs-value"><span class="hljs-string">"http://www.messagesystems-api-url.com/api/v1/webhooks/a2b83490-10df-11e4-b670-c1ffa86371ff"</span></span>,
          "<span class="hljs-attribute">rel</span>": <span class="hljs-value"><span class="hljs-string">"urn.msys.webhooks.webhook"</span></span>,
          "<span class="hljs-attribute">method</span>": <span class="hljs-value">[
            <span class="hljs-string">"GET"</span>,
            <span class="hljs-string">"PUT"</span>
          ]
        </span>}
      ]
    </span>},
    {
      "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"12affc24-f183-11e3-9234-3c15c2c818c2"</span></span>,
      "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Example webhook"</span></span>,
      "<span class="hljs-attribute">target</span>": <span class="hljs-value"><span class="hljs-string">"http://client.example.com/example-webhook"</span></span>,
      "<span class="hljs-attribute">events</span>": <span class="hljs-value">[
        <span class="hljs-string">"delivery"</span>,
        <span class="hljs-string">"injection"</span>,
        <span class="hljs-string">"open"</span>,
        <span class="hljs-string">"click"</span>
      ]</span>,
      "<span class="hljs-attribute">auth_type</span>": <span class="hljs-value"><span class="hljs-string">"oauth2"</span></span>,
      "<span class="hljs-attribute">auth_request_details</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">url</span>": <span class="hljs-value"><span class="hljs-string">"https://oauth.myurl.com/tokens"</span></span>,
        "<span class="hljs-attribute">body</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">client_id</span>": <span class="hljs-value"><span class="hljs-string">"&lt;oauth client id&gt;"</span></span>,
          "<span class="hljs-attribute">client_secret</span>": <span class="hljs-value"><span class="hljs-string">"&lt;oauth client secret&gt;"</span>
        </span>}
      </span>}</span>,
      "<span class="hljs-attribute">auth_credentials</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">access_token</span>": <span class="hljs-value"><span class="hljs-string">"&lt;oauth token&gt;"</span></span>,
        "<span class="hljs-attribute">expires_in</span>": <span class="hljs-value"><span class="hljs-number">3600</span>
      </span>}</span>,
      "<span class="hljs-attribute">auth_token</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
      "<span class="hljs-attribute">last_successful</span>": <span class="hljs-value"><span class="hljs-string">"2014-07-01 16:09:15"</span></span>,
      "<span class="hljs-attribute">last_failure</span>": <span class="hljs-value"><span class="hljs-string">"2014-08-01 15:15:45"</span></span>,
      "<span class="hljs-attribute">links</span>": <span class="hljs-value">[
        {
          "<span class="hljs-attribute">href</span>": <span class="hljs-value"><span class="hljs-string">"http://www.messagesystems-api-url.com/api/v1/webhooks/12affc24-f183-11e3-9234-3c15c2c818c2"</span></span>,
          "<span class="hljs-attribute">rel</span>": <span class="hljs-value"><span class="hljs-string">"urn.msys.webhooks.webhook"</span></span>,
          "<span class="hljs-attribute">method</span>": <span class="hljs-value">[
            <span class="hljs-string">"GET"</span>,
            <span class="hljs-string">"PUT"</span>
          ]
        </span>}
      ]
    </span>},
    {
      "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"123456-abcd-efgh-7890-123445566778"</span></span>,
      "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Another webhook"</span></span>,
      "<span class="hljs-attribute">target</span>": <span class="hljs-value"><span class="hljs-string">"http://client.example.com/another-example"</span></span>,
      "<span class="hljs-attribute">events</span>": <span class="hljs-value">[
        <span class="hljs-string">"generation_rejection"</span>,
        <span class="hljs-string">"generation_failure"</span>
      ]</span>,
      "<span class="hljs-attribute">auth_type</span>": <span class="hljs-value"><span class="hljs-string">"none"</span></span>,
      "<span class="hljs-attribute">auth_request_details</span>": <span class="hljs-value">{}</span>,
      "<span class="hljs-attribute">auth_credentials</span>": <span class="hljs-value">{}</span>,
      "<span class="hljs-attribute">auth_token</span>": <span class="hljs-value"><span class="hljs-string">"5ebe2294ecd0e0f08eab7690d2a6ee69"</span></span>,
      "<span class="hljs-attribute">links</span>": <span class="hljs-value">[
        {
          "<span class="hljs-attribute">href</span>": <span class="hljs-value"><span class="hljs-string">"http://www.messagesystems-api-url.com/api/v1/webhooks/123456-abcd-efgh-7890-123445566778"</span></span>,
          "<span class="hljs-attribute">rel</span>": <span class="hljs-value"><span class="hljs-string">"urn.msys.webhooks.webhook"</span></span>,
          "<span class="hljs-attribute">method</span>": <span class="hljs-value">[
            <span class="hljs-string">"GET"</span>,
            <span class="hljs-string">"PUT"</span>
          ]
        </span>}
      ]
    </span>}
  ]
</span>}</pre></div></div><hr></div></div></div><div class="resource searchable"><h3 id="webhooks-update-and-delete" class="resource-heading">Update and Delete <a href="#webhooks-update-and-delete" class="permalink">&nbsp;</a></h3><div class="searchable"><div class="action put"><h4 id="webhooks-update-and-delete-put" class="action-heading"><div class="name">Update a Webhook</div></h4><div class="method">PUT<code class="uri">/api/v1/webhooks/{id}</code></div><div class="title"><strong>URI Parameters</strong></div><div class="table-responsive"><table><tr><td class="markdown">id</td><td class="markdown"><strong class="param-annotation">(required) &nbsp;</strong><p>UUID identifying a webhook</p>
Example:<code>id=12affc24-f183-11e3-9234-3c15c2c818c2</code></td></tr></table></div><div class="markdown"><p>Update a webhook’s properties by specifying its id in the URI path and use a <strong>webhooks object</strong> as
the PUT request body.</p>
<p>Note that batches currently queued for delivery to this webhook will not be affected by these
modifications.  For example, if you change the webhook’s target URL, batches already queued for delivery will still be POSTed to the previous URL.</p>
<p>As described in “Webhooks Object Properties”, a change to the <em>target</em> value entails a test POST request to the URL given. If this request does not receive an HTTP 200 response, your request to the Webhooks API will fail with HTTP 400, and the webhook will not be modified.</p>
</div><h3>Examples</h3><div class="panel request panel-default"><div class="panel-heading"><h4 class="panel-title">Request</h4></div><div class="panel-body"><p class="uri"> <code>PUT&nbsp;/api/v1/webhooks/<span class="hljs-attribute" title="id">12affc24-f183-11e3-9234-3c15c2c818c2</span></code></p><!-- Weed out the noisy obvious headers--><pre>{
  "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Renamed webhook"</span></span>,
  "<span class="hljs-attribute">events</span>": <span class="hljs-value">[
    <span class="hljs-string">"rejection"</span>,
    <span class="hljs-string">"delay"</span>
  ]</span>,
  "<span class="hljs-attribute">auth_type</span>": <span class="hljs-value"><span class="hljs-string">"none"</span>
</span>}</pre></div></div><div class="panel response panel-default"><div class="panel-heading"><h4 class="panel-title">Response (HTTP status code: 200)</h4></div><div class="panel-body"><!-- Weed out the noisy obvious headers--><pre>{
  "<span class="hljs-attribute">results</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"12affc24-f183-11e3-9234-3c15c2c818c2"</span></span>,
    "<span class="hljs-attribute">links</span>": <span class="hljs-value">[
      {
        "<span class="hljs-attribute">href</span>": <span class="hljs-value"><span class="hljs-string">"http://www.messagesystems-api-url.com/api/v1/webhooks/12affc24-f183-11e3-9234-3c15c2c818c2/validate"</span></span>,
        "<span class="hljs-attribute">rel</span>": <span class="hljs-value"><span class="hljs-string">"urn.msys.webhooks.validate"</span></span>,
        "<span class="hljs-attribute">method</span>": <span class="hljs-value">[
          <span class="hljs-string">"POST"</span>
        ]
      </span>}
    ]
  </span>}
</span>}</pre></div></div><hr></div></div><div class="searchable"><div class="action delete"><h4 id="webhooks-update-and-delete-delete" class="action-heading"><div class="name">Delete a Webhook</div></h4><div class="method">DELETE<code class="uri">/api/v1/webhooks/{id}</code></div><div class="title"><strong>URI Parameters</strong></div><div class="table-responsive"><table><tr><td class="markdown">id</td><td class="markdown"><strong class="param-annotation">(required) &nbsp;</strong><p>UUID identifying a webhook</p>
Example:<code>id=12affc24-f183-11e3-9234-3c15c2c818c2</code></td></tr></table></div><div class="markdown"><p>Delete a webhook from the system by specifying its id in the URI path.  The system will stop pushing data to the target URL after the batches currently queued to be
delivered are drained.</p>
</div><h3>Examples</h3><div class="panel request panel-default"><div class="panel-heading"><h4 class="panel-title">Request</h4></div><div class="panel-body"><p class="uri"> <code>DELETE&nbsp;/api/v1/webhooks/<span class="hljs-attribute" title="id">12affc24-f183-11e3-9234-3c15c2c818c2</span></code></p><!-- Weed out the noisy obvious headers--></div></div><div class="panel response panel-default"><div class="panel-heading"><h4 class="panel-title">Response (HTTP status code: 204)</h4></div><div class="panel-body">Empty response body</div></div><hr></div></div></div><div class="resource searchable"><h3 id="webhooks-validate" class="resource-heading">Validate <a href="#webhooks-validate" class="permalink">&nbsp;</a></h3><div class="searchable"><div class="action post"><h4 id="webhooks-validate-post" class="action-heading"><div class="name">Validate a Webhook</div></h4><div class="method">POST<code class="uri">/api/v1/webhooks/{id}/validate</code></div><div class="title"><strong>URI Parameters</strong></div><div class="table-responsive"><table><tr><td class="markdown">id</td><td class="markdown"><strong class="param-annotation">(required) &nbsp;</strong><p>UUID identifying a webhook</p>
Example:<code>id=12affc24-f183-11e3-9234-3c15c2c818c2</code></td></tr></table></div><div class="markdown"><p>The validation sends an example message event batch from the Webhooks API to the
target URL, validates that the target responds with HTTP 200,
and returns detailed information on the response received from the target.</p>
<h4 id="header-message-properties">Message Properties <a class="permalink" href="#header-message-properties" aria-hidden="true">¶</a></h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>message</td>
<td>object</td>
<td>Example batch to send</td>
<td>yes</td>
<td>example: <code>{&quot;msys&quot;: {}}</code></td>
</tr>
</tbody>
</table>
</div><h3>Examples</h3><div class="panel request panel-default"><div class="panel-heading"><h4 class="panel-title">Request</h4></div><div class="panel-body"><p class="uri"> <code>POST&nbsp;/api/v1/webhooks/<span class="hljs-attribute" title="id">12affc24-f183-11e3-9234-3c15c2c818c2</span>/validate</code></p><!-- Weed out the noisy obvious headers--><pre>{
  "<span class="hljs-attribute">message</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">msys</span>": <span class="hljs-value">{}
  </span>}
</span>}</pre></div></div><div class="panel response panel-default"><div class="panel-heading"><h4 class="panel-title">Response (HTTP status code: 200)</h4></div><div class="panel-body"><!-- Weed out the noisy obvious headers--><pre>{
  "<span class="hljs-attribute">results</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">msg</span>": <span class="hljs-value"><span class="hljs-string">"Test POST to endpoint succeeded"</span></span>,
    "<span class="hljs-attribute">response</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-number">200</span></span>,
      "<span class="hljs-attribute">headers</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">Content-Type</span>": <span class="hljs-value"><span class="hljs-string">"text/plain"</span>
      </span>}</span>,
      "<span class="hljs-attribute">body</span>": <span class="hljs-value"><span class="hljs-string">"OK"</span>
    </span>}
  </span>}
</span>}</pre></div></div><hr></div></div></div><div class="resource searchable"><h3 id="webhooks-batch-status" class="resource-heading">Batch Status <a href="#webhooks-batch-status" class="permalink">&nbsp;</a></h3><div class="searchable"><div class="action get"><h4 id="webhooks-batch-status-get" class="action-heading"><div class="name">Retrieve Status Information</div></h4><div class="method">GET<code class="uri">/api/v1/webhooks/{id}/batch-status{?limit}</code></div><div class="title"><strong>URI Parameters</strong></div><div class="table-responsive"><table><tr><td class="markdown">id</td><td class="markdown"><strong class="param-annotation">(required) &nbsp;</strong><p>UUID identifying a webhook</p>
Example:<code>id=12affc24-f183-11e3-9234-3c15c2c818c2</code></td></tr><tr><td class="markdown">limit</td><td class="markdown"><p>Maximum number of results to return. Defaults to <code>1000</code>.</p>
Example:<code>limit=1000</code></td></tr></table></div><div class="markdown"><p>Retrieve status information regarding batches that have been generated
for the given webhook by specifying its id in the URI path. Status information includes the successes of batches
that previously failed to reach the webhook’s target URL and batches that
are currently in a failed state.</p>
</div><h3>Examples</h3><div class="panel request panel-default"><div class="panel-heading"><h4 class="panel-title">Request</h4></div><div class="panel-body"><p class="uri"> <code>GET&nbsp;/api/v1/webhooks/<span class="hljs-attribute" title="id">12affc24-f183-11e3-9234-3c15c2c818c2</span>/batch-status?<span class="hljs-attribute">limit=</span><span class="hljs-literal">1000</span></code></p><!-- Weed out the noisy obvious headers--></div></div><div class="panel response panel-default"><div class="panel-heading"><h4 class="panel-title">Response (HTTP status code: 200)</h4></div><div class="panel-body"><!-- Weed out the noisy obvious headers--><pre>{
  "<span class="hljs-attribute">results</span>": <span class="hljs-value">[
    {
      "<span class="hljs-attribute">batch_id</span>": <span class="hljs-value"><span class="hljs-string">"032d330540298f54f0e8bcc1373f3cfd"</span></span>,
      "<span class="hljs-attribute">ts</span>": <span class="hljs-value"><span class="hljs-string">"2014-07-30T21:38:08.000Z"</span></span>,
      "<span class="hljs-attribute">attempts</span>": <span class="hljs-value"><span class="hljs-number">7</span></span>,
      "<span class="hljs-attribute">response_code</span>": <span class="hljs-value"><span class="hljs-number">200</span>
    </span>},
    {
      "<span class="hljs-attribute">batch_id</span>": <span class="hljs-value"><span class="hljs-string">"13c6764994a8f6b4e29906d5712ca7d"</span></span>,
      "<span class="hljs-attribute">ts</span>": <span class="hljs-value"><span class="hljs-string">"2014-07-30T20:38:08.000Z"</span></span>,
      "<span class="hljs-attribute">attempts</span>": <span class="hljs-value"><span class="hljs-number">2</span></span>,
      "<span class="hljs-attribute">response_code</span>": <span class="hljs-value"><span class="hljs-number">400</span>
    </span>}
  ]
</span>}</pre></div></div><hr></div></div></div></section></div></div></div>